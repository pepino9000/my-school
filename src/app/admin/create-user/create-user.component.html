<div class="user-form-container">
  <div class="back-button example-button-container">
    <button mat-raised-button color="primary" routerLink="/home">
      <mat-icon>arrow_back_ios</mat-icon>
      Volver
    </button>
  </div>
  <form [formGroup]="form" (ngSubmit)="create($event)">
    <mat-card class="form-card">
      <mat-card-header class="form-header">
        <mat-card-title>Agregar Usuario</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <div class="row">
          <div class="col-xs">
            <mat-form-field>
              <input placeholder="nombre" formControlName="name" matInput type="name">
            </mat-form-field>
          </div>
        </div>
        <div class="row">
          <div class="col-xs">
            <mat-form-field>
              <input placeholder="segundo nombre" formControlName="secondName" matInput type="secondName">
            </mat-form-field>
          </div>
        </div>
        <div class="row">
          <div class="col-xs">
            <mat-form-field>
              <input placeholder="apellido" formControlName="lastName" matInput type="lastName">
            </mat-form-field>
          </div>
        </div>
        <div class="row">
          <div class="col-xs">
            <mat-form-field>
              <input placeholder="segundo apellido" formControlName="secondLastName" matInput type="secondLastName">
            </mat-form-field>
          </div>
        </div>
        <div class="row">
          <div class="col-xs">
            <mat-form-field>
              <input placeholder="correo" formControlName="email" matInput type="email">
            </mat-form-field>
          </div>
        </div>
        <mat-form-field>
          <mat-label>rol</mat-label>
          <select matNativeControl formControlName="role">
            <option value="" selected>Seleccione el rol</option>
            <option value=1>Admin</option>
            <option value=2>Teacher</option>
            <option value=3>Utp</option>
            <option value=4>Apoderado</option>
            <option value=5>Estudiante</option>
          </select>
        </mat-form-field>
        <mat-form-field class="row" *ngIf="this.form.get('role')?.value === '5'">
          <mat-label>Curso (opcional)</mat-label>
          <select matNativeControl formControlName="grade">
            <option value="" selected>Seleccione el curso</option>
            <option value={{grade.id}} *ngFor="let grade of grades; index as i">{{grade.year + ' ' + grade.letter}}
            </option>
          </select>
        </mat-form-field>
        <div class="row">
          <div class="col-xs">
            <mat-form-field>
              <input placeholder="rut" formControlName="rut" matInput type="rut">
            </mat-form-field>
          </div>
        </div>
        <div class="row">
          <div class="col-xs">
            <mat-form-field>
              <input placeholder="phone" formControlName="phone" matInput type="phone">
            </mat-form-field>
          </div>
        </div>
      </mat-card-content>
      <mat-card-actions class="form-button">
        <p *ngIf="this.response" class="text-success">Usuario creado correctamente</p>
        <button [disabled]="!this.form.valid" mat-raised-button type="submit">Ingresar</button>
      </mat-card-actions>
    </mat-card>
  </form>